<form autocomplete="off" onsubmit="event.preventDefault();">
    <div style="display:flex; flex-direction:row">
        <div style="width:160px; margin-right: 5px;">
            <img style="height: 160px; width: 160px;" class="file-picker" src="{{activity.img}}" data-type="image"></img>
        </div>
        <div>
            <label>Name:</label>
            <input type="text" id="name" name="name" value="{{activity.name}}"/>
            <label>Description:</label>
            <textarea name="desc" id="desc">{{activity.description}}</textarea>
        </div>
    </div>
    <fieldset>
    <div class="form-group">
        <label>Ability Checks</label>
        <select name="abiCheck" id="abiCheck">
        <div>
            <option label=" "></option>
            {{#each abilities as |name key|}}
            <div>
                <option value="{{name}} Check" id="{{key}}" data-dtype="Boolean" />
                <label for="{{key}}">{{name}}</label>
            </div>
            {{/each}}
        </div>
    </select>
    </div>
    <div class="form-group">
        <label>Saving Throws</label>
        <select name="saveSelect" id="saveSelect">
        <div>
            <option label=" "></option>
            {{#each saves as |name key|}}
            <div>
                <option value="{{name}} Saving Throw" id="{{key}}" data-dtype="Boolean" />
                <label for="{{key}}">{{name}}</label>            
            </div>
            {{/each}}
        </div>
        </select>
    </div>
        <div class="form-group">
            <label>Skill Checks</label>
            <select name="skiCheck" id="skiCheck">
            <div>
                <option label=" "></option>
                {{#each skills as |name key|}}
                <div>
                    <option value="{{name}}" id="{{key}}" data-dtype="Boolean" />
                    <label for="{{key}}">{{name}}</label>
                </div>
                {{/each}}
            </div>
        </select>
    </div>
    <div class="form-group">
        <label>Tools</label>
        <select name="toolSelect" id="toolSelect">
        <div>
            <option label=" "></option>
            {{#each tools as |name|}}
            <div>
                <option value="{{name}}" id="{{name}}" data-dtype="Boolean">{{name}}</option>          
            </div>
            {{/each}}
        </div>
        </select>
    </div>

    <label>DC</label>
    <input type="text" id="dc" name="dc"/>
    <div style="margin-right:0px;">
        <button type="submit" name="addRollableEvent" value="1" class="addRollable"><i class="fas fa-dice"></i>Add Roll</button>
    </div>
    </fieldset>

    <fieldset>
        <p>Groups give you choices. The same name for group makes you choose between these rolls. Different names for group let's you do both rolls</p>
        <table id="rollableEventsTable">
            <colgroup>
               <col span="1" style="width: 35%;">
               <col span="1" style="width: 20%;">
               <col span="1" style="width: 35%;">
               <col span="1" style="width: 10%;">
            </colgroup>
            <tr>
                <th style="text-align:left;">Roll</th>
                <th style="text-align:left;">DC</th>
                <th>Group</th>
                <th>Delete</th>
            </tr>
            {{#each activity.rollableGroups as |group|}}
            {{#each group.rolls as |arr|}}
                <tr id="{{arr.[2]}}" class="rollableEvent">
                    <td><label>{{arr.[0]}}</label></td>
                    <td><label>{{arr.[1]}}</label></td>
                    <td><input type="text" id="group" placeholder="group name for rolls" value="{{group.group}}"></td>
                    <td style="text-align:center;"><a class="item-control training-delete" id="deleteRollable" title="Delete Downtime Activity"><i class="fas fa-trash"></i></a></td>
                </tr>
            {{/each}}
            {{/each}}
        </table>
    </fieldset>
    <fieldset>
        <label>Add Result</label>
        <label>Start</label>
        <input type="text" id="resultMin" name="resultMin" placeholder="0">
        <label>End</label>
        <input type="text" id="resultMax" name="resultMax" placeholder="5">
        <label>Result Text</label>
        <input type="text" id="resultText" name="resultText">
        <div style="margin-right:0px;">
            <button type="submit" name="addResult" value="1" class="addResult"><i class="fas fa-dice"></i>Add Result</button>
        </div>
        <table id="resultsTable">
            <colgroup>
               <col span="1" style="width: 10%;">
               <col span="1" style="width: 10%;">
               <col span="1" style="width:70%;">
               <col span="1" style="width: 10%;">
            </colgroup>
            <tr>
                <th style="text-align:left;">Start Value</th>
                <th style="text-align:left;">End Value</th>
                <th>Result</th>
                <th>Delete</th>
            </tr>
            {{#each activity.results as |arr|}}
                <tr id="{{arr.[3]}}" class="result">
                    <td><label>{{arr.[0]}}</label></td>
                    <td><label>{{arr.[1]}}</label></td>
                    <td><label>{{arr.[2]}}</label></td>
                    <td style="text-align:center;"><a class="item-control training-delete" id="deleteResult" title="Delete Downtime Activity"><i class="fas fa-trash"></i></a></td>
                </tr>
            {{/each}}
        </table>
        <label>Activity Type</label>
        <input type="radio" id="succFailActivity" name="activityType" value="succFail" checked="checked">
        <label for="succFailActivity">Success/Fail Count</label>
        <input type="radio" id="categoryActivity" name="activityType" value="categories">
        <label for="categoryActivity">Categories</label>

    </fieldset>
    <fieldset>
        <label>Complications</label></br>
        <label>Chance of occuring per use</label>
        <select name="compchance" id="compchance">
            <option label=" "></option>
            {{#each compChances as |cc |}}
                <option value="{{cc}}" id="{{cc}}">{{cc}}%</option>
            {{/each}}
        </select></br>
        <label>RollTable to use</label>
        <select name="Complications" id="complications">
            <option label=" "></option>
            {{#each tables as |table |}}
                <option value="{{table.data._id}}" id="{{table.data._id}}"/>{{table.data.name}}</option>
            {{/each}}
        </select>
    </fieldset>
    <div>

        <button type="submit" name="submit" value="1"><i class="fas fa-dice"></i>Submit</button>
    </div>
</form>
